using Robust.Client.AutoGenerated;
using Robust.Client.Graphics;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;
using Robust.Shared.Utility;
using Serilog;

namespace Content.Client.Blueprint.UI;

[GenerateTypedNameReferences]
public sealed partial class BluebenchResearchEntry : PanelContainer
{
    public Action<String>? OnTechnologyProjectStart;

    public BluebenchResearchEntry(string researchName, FormattedMessage researchDescription, Texture icon, string id, bool enabled, bool mode) // mode: false - display "Start", true - display "Print"
    {
        RobustXamlLoader.Load(this);
        ResearchName.Text = researchName;
        ResearchDescription.SetMessage(researchDescription);
        Icon.Texture = icon;
        ActivateResearch.Disabled = !enabled;
        ActivateResearch.Text = Loc.GetString(mode ? "bluebench-btn-start" : "bluebench-btn-print");
        ActivateResearch.OnPressed += _ =>
        {
            OnTechnologyProjectStart?.Invoke(id);
        };
    }
}

